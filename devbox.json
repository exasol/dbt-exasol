{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.16.0/.schema/devbox.schema.json",
  "packages": [
    "uv@latest",
    "direnv@latest",
    "gh@latest",
    "bun@latest",
    "docker-client@latest",
    "act@latest",
    "pandoc@latest"
  ],
  "env": {
    "PATH":    "$PWD/.devbox/bin:$HOME/.local/bin:$PATH",
    "DB_PORT": "8563"
  },
  "shell": {
    "init_hook": [
      "echo 'Welcome to devbox!' > /dev/null",
      "unset DEVELOPER_DIR"
    ],
    "scripts": {
      "format":    "uv run nox -s format:check",
      "lint":      "uv run nox -s lint:code",
      "unit-test": "uv run nox -s test:unit",
      "coverage":  "uv run nox -s test:unit -- --coverage && uv run coverage report -m",
      "ci":        "uv run nox -s format:check && uv run nox -s lint:code && uv run nox -s test:unit -- --coverage && uv run coverage report -m",
      "act":       "act pull_request --container-architecture linux/amd64",
      "act:checks": "act -j checks --container-architecture linux/amd64",
      "act:report": "act -j report --container-architecture linux/amd64",
      "act:release": "act -j release --container-architecture linux/amd64",
      "act:list":  "act -l",
      "restart":   "touch .envrc && direnv allow && eval \"$(direnv export bash)\" && echo 'Devbox environment reloaded'"
    }
  }
}
